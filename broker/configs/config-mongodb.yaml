TCP: 1883
TPCS: 8883
WS: 9000
WSS: 9001

MaxMessageSizeKb: 512
QueuedMessagesEnabled: true

SessionStoreType: MONGODB
RetainedStoreType: MONGODB

# User Management configuration
UserManagement:
  Enabled: true  # Set to true to enable user authentication and ACL
  AuthStoreType: MONGODB  # POSTGRES, SQLITE, CRATEDB, MONGODB
  PasswordAlgorithm: bcrypt
  CacheRefreshInterval: 60  # seconds
  DisconnectOnUnauthorized: true

SparkplugMetricExpansion:
  Enabled: true

ArchiveGroups:
  - Name: Default
    Enabled: true
    TopicFilter: [ "#" ]
    RetainedOnly: false
    LastValType: MONGODB
    ArchiveType: MONGODB
    LastValRetention: "10m"
    ArchiveRetention: "60m"
    PurgeInterval: "1m"  


# MongoDB connection configuration
MongoDB:
  # Connection string with authentication
  Url: mongodb://system:manager@linux5:27017
  
  # Database name
  Database: monster
  
  # Optional: Advanced connection settings
  # - Connection pooling is automatically configured in enhanced implementation
  # - Time-series collections are created automatically for archives
  # - Indexes are created automatically for optimal performance

# GraphQL API server
GraphQL:
  Enabled: true
  Port: 4000
  Path: /graphql

# MCP Server for AI integration
MCP:
  Enabled: true
  Port: 3000

# Example configurations for different MongoDB setups:
# 
# Local development:
# MongoDB:
#   Url: mongodb://localhost:27017
#   Database: monster_dev
#
# MongoDB Atlas (cloud):
# MongoDB:
#   Url: mongodb+srv://username:password@cluster.mongodb.net
#   Database: monster_prod
#
# Replica Set:
# MongoDB:
#   Url: mongodb://user:pass@host1:27017,host2:27017,host3:27017/monster?replicaSet=rs0
#   Database: monster
#
# Authentication with specific database:
# MongoDB:
#   Url: mongodb://user:pass@localhost:27017/monster?authSource=admin
#   Database: monster